#!/bin/bash

# Main script logic
menu_options=(
    "Lock: Lock the screen" "hyprlock"
    "Logout: End the current session" "loginctl terminate-user $USER"
    "Reboot: Restart the system" "systemctl reboot"
    "Shutdown: Power off the system" "systemctl poweroff"
    "Suspend: Suspend the system to RAM" "systemctl suspend"
    "Hibernate: Hibernate the system to disk" "systemctl hibernate"
)

fuzzel_options=""
for ((i=0; i<${#menu_options[@]}; i+=2)); do
    fuzzel_options+="${menu_options[i]}\n"
done

selected_option=$(echo -e "$fuzzel_options" | fuzzel -d -p "Power Menu: ")

if [ -n "$selected_option" ]; then
    for ((i=0; i<${#menu_options[@]}; i+=2)); do
        if [[ "$selected_option" == "${menu_options[i]}" ]]; then
            eval "${menu_options[i+1]}" &
            exit 0
        fi
    done
else
    echo "No option selected."
fi
