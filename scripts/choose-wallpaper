#!/bin/bash

WALLPAPER_DIR="$HOME/.config/wallpapers"

if [ ! -d "$WALLPAPER_DIR" ]; then
    echo "Wallpaper directory not found: $WALLPAPER_DIR" >&2
    exit 1
fi

# Use fuzzel to let the user choose a wallpaper
selected_wallpaper=$(find "$WALLPAPER_DIR" -type f \( -name "*.jpg" -o -name "*.png" -o -name "*.jpeg" \) | fuzzel -d -p "Choose wallpaper: ")

if [ -n "$selected_wallpaper" ]; then
    swaybg -i "$selected_wallpaper" -m fill &
else
    echo "No wallpaper selected."
fi